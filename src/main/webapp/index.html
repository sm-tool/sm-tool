<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="../../../public/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="../../../public/favicon-16x16.png"
    />
    <link rel="manifest" href="/site.webmanifest" />
    <meta name="theme-color" content="#ffc300" />
    <title>Scenario Modeling Tool</title>
    <script>
      const getSystemTheme = () =>
        window.matchMedia('(prefers-color-scheme: dark)').matches
          ? 'dark'
          : 'light';

      const storedTheme = localStorage.getItem('theme');
      const theme = storedTheme || 'system';

      const isDark =
        theme === 'system' ? getSystemTheme() === 'dark' : theme === 'dark';

      document.documentElement.style.backgroundColor = isDark
        ? '#1e293b'
        : '#f1f5f9';

      if (isDark) {
        document.documentElement.classList.add('dark');
      }
    </script>
  </head>
  <body>
    <noscript>You need to enable JavaScript to run this app.</noscript>
    <div id="root"></div>
    <script>
      window.addEventListener('load', () => {
        setTimeout(() => {
          document.documentElement.style.removeProperty('background-color');
        }, 0);
      });
    </script>
    <script src="./app.tsx" type="module"></script>
  </body>
</html>
